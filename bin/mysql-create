#!/bin/bash

# MYSQL_ROOT_USER and MYSQL_ROOT_PASS are defined in the "private" include.

# First param is database name.
DBNAME=$1

if [ -n "$DBNAME" ]; then
  read -p "Create database: $DBNAME? (y/n) " RESP

  if [ "$RESP" = "y" ]; then
    # @TODO make this more robust; check if db already exists, offer to truncate?
    mysql -u$MYSQL_ROOT_USER -p$MYSQL_ROOT_PASS -Nse "CREATE DATABASE \`$DBNAME\` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;"
    echo "Database created!"
  fi
else
  echo "Please specify a database name."
fi
